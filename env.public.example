# Goose Query Expert Slackbot - Public Distribution Configuration
# For publicly distributed Slack apps (Events API + OAuth)

# ================================
# SLACK OAUTH CONFIGURATION
# ================================
# Get these from https://api.slack.com/apps → Your App → Basic Information
SLACK_CLIENT_ID=1234567890.1234567890
SLACK_CLIENT_SECRET=abcdef1234567890abcdef1234567890
SLACK_SIGNING_SECRET=your-signing-secret-here

# App ID (from Basic Information)
SLACK_APP_ID=A01234567

# ================================
# PUBLIC URL CONFIGURATION
# ================================
# Your publicly accessible URL (HTTPS required)
PUBLIC_URL=https://goose-query-expert-bot.herokuapp.com

# OAuth redirect URL (must match Slack app config)
SLACK_OAUTH_REDIRECT_URL=https://goose-query-expert-bot.herokuapp.com/slack/oauth_redirect

# ================================
# GOOSE INTEGRATION
# ================================
GOOSE_MCP_SERVER_URL=http://localhost:8000
GOOSE_MCP_TIMEOUT=300
GOOSE_MAX_CONCURRENT_QUERIES=10

# ================================
# DATABASE CONFIGURATION
# ================================
# PostgreSQL (required for multi-workspace support)
DATABASE_URL=postgresql://user:password@localhost:5432/slackbot_db
DATABASE_POOL_SIZE=10
DATABASE_MAX_OVERFLOW=20

# Redis for caching and session management
REDIS_URL=redis://localhost:6379/0
REDIS_SESSION_TTL=3600
REDIS_CACHE_TTL=1800

# ================================
# SECURITY CONFIGURATION
# ================================
JWT_SECRET_KEY=your-super-secret-jwt-key-change-this
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=24

ENCRYPTION_KEY=your-32-byte-encryption-key-here

RATE_LIMIT_PER_USER_PER_MINUTE=10
RATE_LIMIT_GLOBAL_PER_MINUTE=100

# ================================
# APPLICATION CONFIGURATION
# ================================
HOST=0.0.0.0
PORT=3000
WORKERS=4

DEBUG=false
ENVIRONMENT=production
LOG_LEVEL=INFO

MAX_RESULT_ROWS=10000
MAX_INLINE_ROWS=10
QUERY_TIMEOUT_SECONDS=300

# ================================
# FEATURE FLAGS
# ================================
ENABLE_QUERY_HISTORY=true
ENABLE_QUERY_SHARING=true
ENABLE_INTERACTIVE_BUTTONS=true
ENABLE_FILE_UPLOADS=true
ENABLE_THREAD_MANAGEMENT=true
ENABLE_USER_PERMISSIONS=true

# ================================
# HEROKU CONFIGURATION (if using Heroku)
# ================================
# These are set automatically by Heroku
# DATABASE_URL - Set by Heroku Postgres addon
# REDIS_URL - Set by Heroku Redis addon
# PORT - Set by Heroku

# ================================
# MONITORING (Optional)
# ================================
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project
METRICS_ENABLED=true
METRICS_PORT=9090
